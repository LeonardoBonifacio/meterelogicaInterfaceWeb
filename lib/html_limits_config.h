#ifndef HTML_LIMITS_CONFIG_H
#define HTML_LIMITS_CONFIG_H

const char *html_limits_config =
"<!DOCTYPE html><html lang='pt-BR'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1.0'><title>Configurar Limites</title><style>*{box-sizing:border-box;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:#2c3e50;color:#ecf0f1;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;padding:10px;}.container{background-color:#34495e;padding:25px;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,0.2);text-align:center;max-width:600px;width:95%;margin:auto;}h1{color:#1abc9c;margin-bottom:20px;}.limit-section{background-color:#2f4050;padding:15px;border-radius:8px;margin-bottom:15px;}.limit-section h2{color:#1abc9c;font-size:1.2em;margin-bottom:10px;}.limit-pair{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:10px;flex-wrap:wrap;}.limit-pair label{font-size:.9em;color:#bdc3c7;}.limit-pair input[type='number']{width:100px;padding:8px;border-radius:4px;border:1px solid #34495e;background-color:#1f2a3a;color:#ecf0f1;font-size:1em;text-align:center;}.alerts-toggle{margin-top:20px;display:flex;align-items:center;justify-content:center;gap:10px;}.alerts-toggle label{font-size:1em;color:#bdc3c7;}button{background-color:#38b2ac;color:white;border:none;padding:10px 20px;font-size:1em;font-weight:bold;border-radius:6px;cursor:pointer;transition:background-color .2s;}button:hover{background-color:#2c8c87;}#statusMessage{font-size:.9em;color:#a0aec0;margin-top:15px;}</style></head><body><div class='container'><h1>Configuração de Limites de Alerta</h1><div class='limit-section'><h2>Temperatura (°C)</h2><div class='limit-pair'><label for='tempMin'>Mínimo:</label><input type='number' id='tempMin' step='0.1'><label for='tempMax'>Máximo:</label><input type='number' id='tempMax' step='0.1'></div></div><div class='limit-section'><h2>Umidade (%)</h2><div class='limit-pair'><label for='humidityMin'>Mínimo:</label><input type='number' id='humidityMin' step='0.1'><label for='humidityMax'>Máximo:</label><input type='number' id='humidityMax' step='0.1'></div></div><div class='limit-section'><h2>Pressão (Pa)</h2><div class='limit-pair'><label for='pressureMin'>Mínimo:</label><input type='number' id='pressureMin' step='1'><label for='pressureMax'>Máximo:</label><input type='number' id='pressureMax' step='1'></div></div><div class='alerts-toggle'><label for='alertsEnabled'>Habilitar Alertas:</label><input type='checkbox' id='alertsEnabled'></div><div class='button-group'><button id='saveLimitsBtn'>Salvar Limites</button></div><p id='statusMessage'></p></div><script>const limitInputs={tempMin:document.getElementById('tempMin'),tempMax:document.getElementById('tempMax'),humidityMin:document.getElementById('humidityMin'),humidityMax:document.getElementById('humidityMax'),pressureMin:document.getElementById('pressureMin'),pressureMax:document.getElementById('pressureMax'),alertsEnabled:document.getElementById('alertsEnabled')};const statusMessage=document.getElementById('statusMessage');let isLimitsInputFocused=false;async function loadLimits(){try{const response=await fetch('/system_state');if(!response.ok)throw new Error('Erro ao carregar limites do servidor');const data=await response.json();if(!isLimitsInputFocused){limitInputs.tempMin.value=data.temp_min!==undefined?data.temp_min.toFixed(1):'';limitInputs.tempMax.value=data.temp_max!==undefined?data.temp_max.toFixed(1):'';limitInputs.humidityMin.value=data.humidity_min!==undefined?data.humidity_min.toFixed(1):'';limitInputs.humidityMax.value=data.humidity_max!==undefined?data.humidity_max.toFixed(1):'';limitInputs.pressureMin.value=data.pressure_min!==undefined?data.pressure_min.toFixed(0):'';limitInputs.pressureMax.value=data.pressure_max!==undefined?data.pressure_max.toFixed(0):'';limitInputs.alertsEnabled.checked=data.alerts_enabled==1;}}catch(error){console.error('Erro ao carregar limites:',error);statusMessage.textContent='Erro ao carregar limites.';statusMessage.style.color='#ff6b6b';}}async function saveLimits(){const temp_min=parseFloat(limitInputs.tempMin.value);const temp_max=parseFloat(limitInputs.tempMax.value);const humidity_min=parseFloat(limitInputs.humidityMin.value);const humidity_max=parseFloat(limitInputs.humidityMax.value);const pressure_min=parseFloat(limitInputs.pressureMin.value);const pressure_max=parseFloat(limitInputs.pressureMax.value);const alerts_enabled=limitInputs.alertsEnabled.checked?1:0;if(isNaN(temp_min)||isNaN(temp_max)||isNaN(humidity_min)||isNaN(humidity_max)||isNaN(pressure_min)||isNaN(pressure_max)){statusMessage.textContent='Por favor, preencha todos os campos com números válidos.';statusMessage.style.color='#ff6b6b';return;}if(temp_min>=temp_max||humidity_min>=humidity_max||pressure_min>=pressure_max){statusMessage.textContent='O valor mínimo deve ser menor que o máximo.';statusMessage.style.color='#ff6b6b';return;}try{const response=await fetch('/set_limits',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({temp_min,temp_max,humidity_min,humidity_max,pressure_min,pressure_max,alerts_enabled})});if(response.ok){const text=await response.text();statusMessage.textContent=text;statusMessage.style.color='#4ade80';}else{const errorText=await response.text();statusMessage.textContent=`Erro: ${response.status} - ${errorText}`;statusMessage.style.color='#ff6b6b';}}catch(error){console.error('Erro ao salvar limites:',error);statusMessage.textContent='Erro de conexão ao salvar limites.';statusMessage.style.color='#ff6b6b';}setTimeout(()=>{statusMessage.textContent='';},5000);}Object.values(limitInputs).forEach(input => {if(input.type==='number'){input.addEventListener('focus',() => {isLimitsInputFocused=true;});input.addEventListener('blur',() => {isLimitsInputFocused=false;});}});document.addEventListener('DOMContentLoaded',() => {loadLimits();setInterval(loadLimits,3000);document.getElementById('saveLimitsBtn').addEventListener('click',saveLimits);});</script></body></html>";

#endif // HTML_LIMITS_CONFIG_H